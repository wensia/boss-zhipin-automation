# Boss直聘自动打招呼 - 快速参考

## 🚀 5分钟快速开始

### 1. 启动服务（2个终端）

```bash
# Terminal 1 - Backend
cd backend && uv run python -m app.main

# Terminal 2 - Frontend
cd frontend && npm run dev
```

### 2. 完成向导配置

访问: `http://localhost:13602/wizard`

```
步骤1: 初始化浏览器（不勾选隐藏） → 等待浏览器打开
步骤2: 扫码登录 → 等待登录成功
步骤3: 选择职位 → 等待跳转到推荐页面
步骤4: 应用筛选（可选）→ 看到候选人列表
```

### 3. 开始打招呼

访问: `http://localhost:13602/greeting`

```
输入数量: 5
点击: 开始
观察: 浏览器直接在当前页面操作候选人
等待: 任务完成
```

---

## ⚡ 关键点

### ✅ DO（正确做法）

1. **按顺序执行**
   ```
   向导页面 → 完成所有步骤 → 切换到打招呼页面
   ```

2. **保持浏览器打开**
   - 向导初始化的浏览器会被复用
   - 不要手动关闭浏览器窗口

3. **确认在推荐页面**
   - 选择职位后应停留在推荐候选人页面
   - 能看到候选人列表（ul > li 结构）

4. **小数量测试**
   - 首次使用：5-10人
   - 验证成功后：20-50人

### ❌ DON'T（错误做法）

1. **不要跳过向导**
   ```
   ❌ 直接访问 /greeting → 会提示"未登录"或"浏览器未初始化"
   ```

2. **不要关闭浏览器**
   ```
   ❌ 手动关闭向导打开的浏览器 → 打招呼功能会失败
   ```

3. **不要在错误的页面**
   ```
   ❌ 浏览器停留在登录页或其他页面 → 找不到候选人列表
   ```

---

## 🎯 预期行为

### 正确的执行流程：

```
点击"开始"
    ↓
浏览器窗口不变（不跳转、不创建新窗口）
    ↓
当前页面的候选人卡片被依次点击
    ↓
简历弹窗从右侧滑出
    ↓
打招呼按钮被点击
    ↓
按钮变为"继续沟通"
    ↓
简历弹窗关闭
    ↓
自动点击下一个候选人
    ↓
重复上述流程直到完成
```

### Web界面日志：

```
✅ 使用已打开的浏览器
✅ 找到推荐页面iframe
📍 处理第 1/5 个候选人
点击候选人: 张三
✅ 简历面板已加载
找到按钮: '打招呼'
✅ 已点击【打招呼】按钮
✅ 已关闭简历面板
✅ 候选人 1 处理成功
```

---

## 🐛 快速故障排除

| 错误提示 | 原因 | 解决方案 |
|---------|------|---------|
| "未登录" | 没有在向导中登录 | 访问 `/wizard` 扫码登录 |
| "浏览器未初始化" | 没有在向导中初始化 | 访问 `/wizard` 点击"初始化浏览器" |
| "未找到recommendFrame" | 不在推荐页面 | 在向导中选择职位，确保在推荐页面 |
| "未找到打招呼按钮" | 候选人已打过招呼 | 正常情况，系统会跳过并继续 |
| 浏览器创建新窗口 | 代码未更新 | 重启Backend，刷新前端 |

---

## 📊 性能参考

| 数量 | 预计耗时 | 成功率 |
|------|---------|--------|
| 5人 | ~50秒 | 95%+ |
| 10人 | ~100秒 | 95%+ |
| 20人 | ~3分钟 | 90%+ |
| 50人 | ~8分钟 | 85%+ |

---

## 🔗 相关链接

- 完整测试指南: `COMPLETE_FLOW_TEST.md`
- 修复说明: `AUTO_GREETING_FIXED.md`
- 更新日志: `CHANGELOG_2025_10_29.md`

---

## 💡 提示

1. **批量操作**
   - 建议分批次：每批20-50人
   - 批次间隔：1-2分钟休息

2. **查看日志**
   - Backend: `tail -f backend/backend_final.log`
   - Frontend: 浏览器F12 → Console

3. **API访问**
   - API文档: `http://localhost:27421/docs`
   - 健康检查: `curl http://localhost:27421/api/greeting/status`

---

**记住**: 向导配置 → 打招呼页面 → 一键开始 → 自动完成

**关键**: 浏览器会话复用，无需重新初始化或登录！
