# 开始使用 Electron 桌面版

## 🎉 欢迎

恭喜！你已经成功创建了 Boss直聘自动化工具的 Mac 桌面版打包方案。

## ⚡ 快速测试（3 步）

### 第 1 步：启动现有服务

在两个终端中分别运行：

```bash
# 终端 1：后端
cd backend
uv run python -m app.main
```

```bash
# 终端 2：前端
cd frontend
npm run dev
```

### 第 2 步：安装 Electron 依赖

```bash
cd electron-app
npm install
```

### 第 3 步：启动桌面版

```bash
./start-dev.sh
```

现在你应该看到一个桌面应用窗口打开了！🎊

## 📱 你会看到什么？

- 一个独立的应用窗口（不是浏览器）
- 显示你的 Boss直聘自动化界面
- 功能与浏览器版本完全一致
- 可以最小化、最大化、关闭

## ✅ 测试成功的标志

- [ ] 应用窗口成功打开
- [ ] 界面正常显示
- [ ] 可以登录
- [ ] 任务管理功能正常
- [ ] 关闭窗口后没有错误

## 🚀 下一步：构建分发版本

测试通过后，可以构建一个可以分享给朋友的版本：

### 1. 添加后端打包工具

```bash
cd ../backend
uv add pyinstaller --dev
```

### 2. 构建应用

```bash
cd ../electron-app
npm run build
```

**等待时间：** 约 5-10 分钟（首次构建）

### 3. 查看结果

```bash
ls -lh dist/
```

你会看到：
- `Boss直聘自动化-1.0.0-arm64.dmg` (Apple Silicon)
- `Boss直聘自动化-1.0.0-x64.dmg` (Intel Mac)

### 4. 分享给朋友

将 `.dmg` 文件发送给朋友，他们只需：
1. 双击 DMG 文件
2. 拖拽到"应用程序"
3. 双击运行

**无需安装 Python、Node.js 或任何开发工具！**

## 🎨 可选：添加应用图标

### 准备图标

1. 准备一个 1024x1024 的 PNG 图片
2. 访问 https://cloudconvert.com/png-to-icns
3. 转换为 `.icns` 格式
4. 保存到 `electron-app/assets/icon.icns`
5. 重新构建应用

## 📂 文件说明

| 文件 | 作用 | 是否需要修改 |
|------|------|-------------|
| `package.json` | Electron 配置 | ⚠️ 可选修改应用名称 |
| `main.js` | 主进程代码 | ✅ 一般不需要 |
| `preload.js` | 预加载脚本 | ✅ 一般不需要 |
| `start-dev.sh` | 快速启动脚本 | ✅ 直接使用 |
| `scripts/build-backend.js` | 后端打包 | ✅ 一般不需要 |

## 🔍 常见问题

### Q: 开发模式会影响原项目吗？

**A:** 不会！开发模式只是在窗口中显示现有的网页，完全不影响原项目。

### Q: 可以同时运行浏览器版和桌面版吗？

**A:** 可以！它们使用相同的后端服务，数据是同步的。

### Q: 构建需要多长时间？

**A:** 首次构建约 5-10 分钟，后续构建约 2-3 分钟。

### Q: 打包后的文件很大怎么办？

**A:** 这是正常的。Electron 应用包含了完整的 Chrome 浏览器和 Python 运行时，通常 150-200MB。

### Q: 如何修改应用名称？

**A:** 编辑 `package.json` 中的 `productName` 字段。

### Q: 分享给 Windows 用户怎么办？

**A:** 当前配置只支持 Mac。如需支持 Windows，需要修改 `package.json` 中的 `build.win` 配置。

## 📚 更多文档

- [README.md](./README.md) - 完整使用文档
- [项目说明.md](./项目说明.md) - 技术架构说明
- [快速测试指南.md](./快速测试指南.md) - 详细测试步骤

## 💡 提示

### 开发流程

```
1. 在 backend/ 和 frontend/ 中正常开发
   ↓
2. 功能测试通过
   ↓
3. 使用 electron-app 打包
   ↓
4. 分享给用户
```

### 不要做的事情

- ❌ 不要在 `electron-app/` 中修改业务逻辑
- ❌ 不要删除 `backend/` 或 `frontend/` 目录
- ❌ 不要在生产模式下使用开发版本

### 推荐做法

- ✅ 先在浏览器中测试功能
- ✅ 然后在 Electron 开发模式中测试
- ✅ 最后构建生产版本
- ✅ 在干净的 Mac 上测试安装包

## 🎯 成功检查清单

在分享给他人之前：

- [ ] 在开发模式下测试成功
- [ ] 成功构建 DMG 文件
- [ ] 在本机测试安装 DMG
- [ ] 应用可以正常启动和运行
- [ ] 所有核心功能正常工作
- [ ] （可选）添加了应用图标
- [ ] （推荐）在另一台 Mac 上测试

## 🚦 状态码

**绿灯 🟢** - 可以开始测试了
- 后端和前端都在运行
- 已安装 npm 依赖
- 运行 `./start-dev.sh` 成功

**黄灯 🟡** - 可以尝试构建了
- 开发模式测试通过
- 已安装 PyInstaller
- 准备分享给他人

**红灯 🔴** - 需要调试
- 开发模式无法启动
- 构建失败
- 应用无法运行

## 📞 获取帮助

如果遇到问题：

1. **检查日志**
   - Electron 终端输出
   - 后端日志
   - 前端控制台

2. **常见解决方法**
   - 重启所有服务
   - 删除 `node_modules` 重新安装
   - 清理 `dist/` 目录重新构建

3. **查看文档**
   - [Electron 文档](https://www.electronjs.org/docs/latest)
   - [electron-builder 文档](https://www.electron.build/)

## 🎊 恭喜

你已经掌握了如何将 Web 应用打包成 Mac 桌面应用！

现在可以：
- ✅ 像使用普通 Mac 应用一样使用你的工具
- ✅ 分享给不懂编程的朋友
- ✅ 无需安装复杂的开发环境

享受你的桌面应用吧！🚀
